import{T as w,a as d,b as u,d as s,u as e,_ as t,Z as k,e as m,f as a,t as i,j as p,n as f,m as E,v as C,F as _,l as V,h as g,p as b}from"./app-398ad6d1.js";import{_ as N}from"./GoBackNavLink-db60fb6d.js";import{_ as T}from"./OrgTabs-aa6d022b.js";import{_ as h}from"./InputLabel-3fd2a7ac.js";import{_ as $}from"./TextInput-2910392d.js";import{_ as v}from"./InputError-0c89cfc8.js";import{P as x}from"./PrimaryButton-9082dc5b.js";import{S as y}from"./sweetalert2.all-e0b4b42d.js";import{_ as j}from"./Card-915d2e9b.js";import"./_plugin-vue_export-helper-c27b6911.js";const F={class:"py-8"},M={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},A={class:"card-header !mb-4"},O=["onSubmit"],P={class:"grid grid-cols-2 gap-4 mt-4"},U={value:"0"},W=["value"],Y={class:"flex items-center justify-end mt-4"},q=["onSubmit"],X={__name:"DepartmentEdit",props:{department:Object,employees:Object},setup(c){const n=c,r=w({name:n.department.name,manager_id:n.department.manager?n.department.manager.id:"0"}),D=()=>{r.put(route("departments.update",{id:n.department.id}),{preserveScroll:!0,onError:()=>{b().error(t("Error Editing Department"))},onSuccess:()=>{b().success(t("Department Editing Successfully")),r.reset()}})},B=()=>{y.mixin({customClass:{confirmButton:"mx-4 text-white bg-red-700 hover:bg-red-800 focus:outline-none focus:ring-4 focus:ring-red-300 font-medium rounded-full text-sm px-5 py-2.5 text-center mr-2 mb-2 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900",cancelButton:"text-white bg-purple-700 hover:bg-purple-800 focus:outline-none focus:ring-4 focus:ring-purple-300 font-medium rounded-full text-sm px-5 py-2.5 text-center mb-2 dark:bg-purple-600 dark:hover:bg-purple-700 dark:focus:ring-purple-900"},buttonsStyling:!1}).fire({title:t("This department has :n employee. Are you sure?",{n:n.employees.length}),text:t("You won't be able to revert this!"),icon:"warning",showCancelButton:!0,confirmButtonText:t("Yes, Delete!"),cancelButtonText:t("No, Cancel!"),reverseButtons:!0}).then(l=>{l.isConfirmed&&r.delete(route("departments.destroy",{id:n.department.id}),{preserveScroll:!0,onSuccess:()=>{y.fire(t("Department Removed!"),"","success")}})})};return(S,l)=>(d(),u(_,null,[s(e(k),{title:e(t)("Department Edit")},null,8,["title"]),s(N,null,{tabs:m(()=>[s(T)]),default:m(()=>[a("div",F,[a("div",M,[s(j,{class:"!mt-0"},{default:m(()=>[a("h1",A,i(e(t)("Edit A Department")),1),a("form",{onSubmit:p(D,["prevent"])},[a("div",P,[a("div",null,[s(h,{for:"department_name",value:e(t)("Department Name")},null,8,["value"]),s($,{id:"department_name",type:"text",class:f(["mt-1 block w-full",{"border border-red-500":e(r).errors.name}]),modelValue:e(r).name,"onUpdate:modelValue":l[0]||(l[0]=o=>e(r).name=o),required:"",autocomplete:"off",placeholder:e(t)("Department Name")},null,8,["class","modelValue","placeholder"]),s(v,{class:"mt-2",message:e(r).errors.name},null,8,["message"])]),a("div",null,[s(h,{for:"manager_id",value:e(t)("Manager")},null,8,["value"]),E(a("select",{id:"manager_id",class:"fancy-selector","onUpdate:modelValue":l[1]||(l[1]=o=>e(r).manager_id=o)},[a("option",U,i(e(t)("Choose an Employee")),1),(d(!0),u(_,null,V(c.employees,o=>(d(),u("option",{key:o.id,value:o.id},i(o.name),9,W))),128))],512),[[C,e(r).manager_id]]),s(v,{class:"mt-2",message:e(r).errors.manager_id},null,8,["message"])])]),a("div",Y,[a("form",{onSubmit:p(B,["prevent"]),class:"inline"},[s(x,{class:"bg-red-600 hover:bg-red-700 ml-4"},{default:m(()=>[g(i(e(t)("Delete Department")),1)]),_:1})],40,q),s(x,{class:f(["ltr:ml-4 rtl:mr-4",{"opacity-25":e(r).processing}]),disabled:e(r).processing},{default:m(()=>[g(i(e(t)("Edit Department")),1)]),_:1},8,["class","disabled"])])],40,O)]),_:1})])])]),_:1})],64))}};export{X as default};

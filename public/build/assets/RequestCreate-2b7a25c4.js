import{T as h,w as x,a as n,b as c,d as a,u as e,_ as r,Z as S,e as d,f as t,t as m,j as V,m as k,v as q,F as g,l as w,n as u,H as C,k as R,h as $,K as v,p}from"./app-a72bd68e.js";import{_ as T}from"./GoBackNavLink-7e67720f.js";import{_}from"./InputLabel-c6058156.js";import{_ as j}from"./TextInput-02bfe8ae.js";import{_ as f}from"./InputError-6b0028f1.js";import{P as D}from"./PrimaryButton-07649fb6.js";import{_ as B}from"./ReqTabs-eb10e0ce.js";import{l as E}from"./vue-datepicker-b283acd7.js";/* empty css             */import{_ as I}from"./Card-df9bb34b.js";import"./_plugin-vue_export-helper-c27b6911.js";const F={class:"py-8"},M={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},N={class:"card-header !mb-4"},U=["onSubmit"],z={class:"grid grid-cols-2 gap-4"},O={selected:"",value:""},P=["value"],A={class:"grid grid-cols-1 gap-4 mt-4"},H={class:"flex items-center justify-end mt-4"},ae={__name:"RequestCreate",props:{types:Array},setup(b){const s=h({type:"",date:"",message:""});x(()=>s.type,o=>{o==="leave"&&(s.date="")});const y=()=>{Object.keys(s.date).forEach(function(o){s.date[o]&&!/^\d{4}-\d{2}-\d{2}$/.test(s.date[o])&&(s.date[o]=s.date[o].toISOString().split("T")[0])}),s.post(route("requests.store"),{preserveScroll:!0,onError:()=>{v().props.errors.past_leave?p().error(v().props.errors.past_leave):p().error(r("Error Creating Request"))},onSuccess:()=>{p().success(r("Request Created Successfully")),s.reset()}})};return(o,i)=>(n(),c(g,null,[a(e(S),{title:e(r)("Request Create")},null,8,["title"]),a(T,null,{tabs:d(()=>[a(B)]),default:d(()=>[t("div",F,[t("div",M,[a(I,{class:"!mt-0"},{default:d(()=>[t("h1",N,m(e(r)("Create a Request")),1),t("form",{onSubmit:V(y,["prevent"])},[t("div",z,[t("div",null,[a(_,{for:"type_id",value:e(r)("Type")},null,8,["value"]),k(t("select",{id:"manager_id",class:"fancy-selector","onUpdate:modelValue":i[0]||(i[0]=l=>e(s).type=l)},[t("option",O,m(e(r)("Choose a Request Type")),1),(n(!0),c(g,null,w(b.types,l=>(n(),c("option",{key:l.id,value:l},m(l),9,P))),128))],512),[[q,e(s).type]]),a(f,{class:"mt-2",message:e(s).errors.type},null,8,["message"])]),t("div",null,[a(_,{for:"date",value:e(r)("Date (Range selection is available)")},null,8,["value"]),a(e(E),{id:"date",modelValue:e(s).date,"onUpdate:modelValue":i[1]||(i[1]=l=>e(s).date=l),class:u(["py-1 block w-full",{"border border-red-500":e(s).errors.date}]),placeholder:e(r)("Select Date..."),"enable-time-picker":!1,"min-date":e(s).type==="leave"?e(C)().tz().format():"",dark:R("isDark").value,range:"",required:""},null,8,["modelValue","class","placeholder","min-date","dark"]),a(f,{class:"mt-2",message:e(s).errors.date},null,8,["message"])])]),t("div",A,[t("div",null,[a(_,{for:"message",value:e(r)("Message")},null,8,["value"]),a(j,{id:"message",type:"text",class:u(["mt-1 block w-full",{"border border-red-500":e(s).errors.message}]),modelValue:e(s).message,"onUpdate:modelValue":i[2]||(i[2]=l=>e(s).message=l),autocomplete:"off",placeholder:e(r)("I will be absent for 3 days because I'm sick.")},null,8,["class","modelValue","placeholder"]),a(f,{class:"mt-2",message:e(s).errors.message},null,8,["message"])])]),t("div",H,[a(D,{class:u(["ltr:ml-4 rtl:mr-4",{"opacity-25":e(s).processing}]),disabled:e(s).processing},{default:d(()=>[$(m(e(r)("Initiate Request")),1)]),_:1},8,["class","disabled"])])],40,U)]),_:1})])])]),_:1})],64))}};export{ae as default};

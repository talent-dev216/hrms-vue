import{T as v,a as m,b as c,d as a,u as e,_ as s,Z as g,e as i,f as l,t as n,j as x,m as w,v as C,F as _,l as k,n as u,k as S,h as I,p as h}from"./app-a72bd68e.js";import{_ as V}from"./GoBackNavLink-7e67720f.js";import{_ as p}from"./InputLabel-c6058156.js";import{_ as $}from"./TextInput-02bfe8ae.js";import{_ as f}from"./InputError-6b0028f1.js";import{P as T}from"./PrimaryButton-07649fb6.js";import{l as j}from"./vue-datepicker-b283acd7.js";/* empty css             */import{_ as D}from"./CalendarTabs-90a8f19c.js";import{_ as B}from"./Notice-c7db707b.js";import{_ as E}from"./Card-df9bb34b.js";import{c as N}from"./useCalendarItemTypes-9a9fee8e.js";import"./_plugin-vue_export-helper-c27b6911.js";const q={class:"py-8"},F={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},R={class:"card-header !mb-4"},U=["onSubmit"],A={class:"grid grid-cols-2 gap-4"},M={selected:"",value:""},O=["value"],P={class:"grid grid-cols-1 gap-4 mt-4"},z={class:"flex items-center justify-end mt-4"},se={__name:"CalendarItemCreate",props:{types:Array},setup(y){const t=v({date:"",title:"",type:""}),b=()=>{Object.keys(t.date).forEach(function(d){t.date[d]&&!/^\d{4}-\d{2}-\d{2}$/.test(t.date[d])&&(t.date[d]=t.date[d].toISOString().split("T")[0])}),t.post(route("calendars.store"),{preserveScroll:!0,onError:()=>{h().error(s("Error Creating Calendar Item"))},onSuccess:()=>{h().success(s("Calendar Item Stored Successfully")),t.reset()}})};return(d,r)=>(m(),c(_,null,[a(e(g),{title:e(s)("Calendar Item Creation")},null,8,["title"]),a(V,null,{tabs:i(()=>[a(D)]),default:i(()=>[l("div",q,[l("div",F,[a(E,{class:"!mt-0"},{default:i(()=>[l("h1",R,n(e(s)("Create a Calendar Item")),1),l("form",{onSubmit:x(b,["prevent"])},[a(B,{type:"info",bold:e(s)("Holidays Notice:"),class:"mt-0",br:"",text:e(s)("1. Adding a holidays means the day is off, and the attendance on that day will not be considered.")+"<br/>"+e(s)("2. If a holiday overlaps with a weekend, the system will not consider the overlap and count the holiday and the weekend as 2 non-attendable days, not just 1.")},null,8,["bold","text"]),l("div",A,[l("div",null,[a(p,{for:"type_id",value:e(s)("Type")},null,8,["value"]),w(l("select",{id:"manager_id",class:"fancy-selector","onUpdate:modelValue":r[0]||(r[0]=o=>e(t).type=o)},[l("option",M,n(e(s)("Choose a Request Type")),1),(m(!0),c(_,null,k(y.types,o=>(m(),c("option",{key:o.id,value:o},n(e(N)[o]),9,O))),128))],512),[[C,e(t).type]]),a(f,{class:"mt-2",message:e(t).errors.type},null,8,["message"])]),l("div",null,[a(p,{for:"date",value:e(s)("Date (Range selection is available)")},null,8,["value"]),a(e(j),{id:"date",modelValue:e(t).date,"onUpdate:modelValue":r[1]||(r[1]=o=>e(t).date=o),class:u(["py-1 block w-full",{"border border-red-500":e(t).errors.date}]),placeholder:e(s)("Select a Date.."),"enable-time-picker":!1,dark:S("isDark").value,range:"",required:""},null,8,["modelValue","class","placeholder","dark"]),a(f,{class:"mt-2",message:e(t).errors.date},null,8,["message"])])]),l("div",P,[l("div",null,[a(p,{for:"title",value:e(s)("Title")},null,8,["value"]),a($,{id:"title",type:"text",class:u(["mt-1 block w-full",{"border border-red-500":e(t).errors.title}]),modelValue:e(t).title,"onUpdate:modelValue":r[2]||(r[2]=o=>e(t).title=o),autocomplete:"off",placeholder:e(s)("I will be absent for 3 days because I'm sick.")},null,8,["class","modelValue","placeholder"]),a(f,{class:"mt-2",message:e(t).errors.title},null,8,["message"])])]),l("div",z,[a(T,{class:u(["ltr:ml-4 rtl:mr-4",{"opacity-25":e(t).processing}]),disabled:e(t).processing},{default:i(()=>[I(n(e(s)("Initiate Request")),1)]),_:1},8,["class","disabled"])])],40,U)]),_:1})])])]),_:1})],64))}};export{se as default};

import{T as v,a as m,b as c,d as a,u as e,_ as s,Z as g,e as i,f as l,t as n,j as x,m as C,v as w,F as _,l as k,n as u,k as V,h as I,C as S,p as y}from"./app-398ad6d1.js";import{_ as $}from"./GoBackNavLink-db60fb6d.js";import{_ as p}from"./InputLabel-3fd2a7ac.js";import{_ as D}from"./TextInput-2910392d.js";import{_ as f}from"./InputError-0c89cfc8.js";import{P as j}from"./PrimaryButton-9082dc5b.js";import{l as T}from"./vue-datepicker-3ca1d3fc.js";/* empty css             */import{_ as B}from"./CalendarTabs-3ba65f78.js";import{_ as E}from"./Notice-af847992.js";import{_ as M}from"./Card-915d2e9b.js";import{c as N}from"./useCalendarItemTypes-40566b7d.js";import"./_plugin-vue_export-helper-c27b6911.js";const Y={class:"py-8"},q={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},F={class:"card-header !mb-4"},R=["onSubmit"],U={class:"grid grid-cols-2 gap-4"},A={selected:"",value:""},P=["value"],z={class:"grid grid-cols-1 gap-4 mt-4"},H={class:"flex items-center justify-end mt-4"},le={__name:"CalendarItemCreate",props:{types:Array},setup(h){const t=v({date:"",title:"",type:""}),b=()=>{Object.keys(t.date).forEach(function(d){t.date[d]&&!/^\d{4}-\d{2}-\d{2}$/.test(t.date[d])&&(t.date[d]=S(t.date[d]).format("YYYY-MM-DD"))}),t.post(route("calendars.store"),{preserveScroll:!0,onError:()=>{y().error(s("Error Creating Calendar Item"))},onSuccess:()=>{y().success(s("Calendar Item Stored Successfully")),t.reset()}})};return(d,r)=>(m(),c(_,null,[a(e(g),{title:e(s)("Calendar Item Creation")},null,8,["title"]),a($,null,{tabs:i(()=>[a(B)]),default:i(()=>[l("div",Y,[l("div",q,[a(M,{class:"!mt-0"},{default:i(()=>[l("h1",F,n(e(s)("Create a Calendar Item")),1),l("form",{onSubmit:x(b,["prevent"])},[a(E,{type:"info",bold:e(s)("Holidays Notice:"),class:"mt-0",br:"",text:e(s)("1. Adding a holidays means the day is off, and the attendance on that day will not be considered.")+"<br/>"+e(s)("2. If a holiday overlaps with a weekend, the system will not consider the overlap and count the holiday and the weekend as 2 non-attendable days, not just 1.")},null,8,["bold","text"]),l("div",U,[l("div",null,[a(p,{for:"type_id",value:e(s)("Type")},null,8,["value"]),C(l("select",{id:"manager_id",class:"fancy-selector","onUpdate:modelValue":r[0]||(r[0]=o=>e(t).type=o)},[l("option",A,n(e(s)("Choose a Request Type")),1),(m(!0),c(_,null,k(h.types,o=>(m(),c("option",{key:o.id,value:o},n(e(N)[o]),9,P))),128))],512),[[w,e(t).type]]),a(f,{class:"mt-2",message:e(t).errors.type},null,8,["message"])]),l("div",null,[a(p,{for:"date",value:e(s)("Date (Range selection is available)")},null,8,["value"]),a(e(T),{id:"date",modelValue:e(t).date,"onUpdate:modelValue":r[1]||(r[1]=o=>e(t).date=o),class:u(["py-1 block w-full",{"border border-red-500":e(t).errors.date}]),placeholder:e(s)("Select a Date.."),"enable-time-picker":!1,dark:V("isDark").value,range:"",required:""},null,8,["modelValue","class","placeholder","dark"]),a(f,{class:"mt-2",message:e(t).errors.date},null,8,["message"])])]),l("div",z,[l("div",null,[a(p,{for:"title",value:e(s)("Title")},null,8,["value"]),a(D,{id:"title",type:"text",class:u(["mt-1 block w-full",{"border border-red-500":e(t).errors.title}]),modelValue:e(t).title,"onUpdate:modelValue":r[2]||(r[2]=o=>e(t).title=o),autocomplete:"off",placeholder:e(s)("I will be absent for 3 days because I'm sick.")},null,8,["class","modelValue","placeholder"]),a(f,{class:"mt-2",message:e(t).errors.title},null,8,["message"])])]),l("div",H,[a(j,{class:u(["ltr:ml-4 rtl:mr-4",{"opacity-25":e(t).processing}]),disabled:e(t).processing},{default:i(()=>[I(n(e(s)("Initiate Request")),1)]),_:1},8,["class","disabled"])])],40,R)]),_:1})])])]),_:1})],64))}};export{le as default};
